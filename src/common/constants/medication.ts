import { compact } from 'lodash';
import { MedicationSchema } from '~/server/api/routers/assessment/assessment.inputs';

export const medStatuses = ['Longstanding', 'New', 'Changed'] as const;

export enum MedicationDescriptorType {
	AGENCY_ADMINISTERED = 'Agency Administered',
	HIGH_RISK = 'High Risk',
	NONE = 'None of These',
}

export const additionalMedicationDescriptorOptions = [
	MedicationDescriptorType.AGENCY_ADMINISTERED,
	MedicationDescriptorType.HIGH_RISK,
	MedicationDescriptorType.NONE,
];

export const hchb = {
	routes: [
		'Ear-both',
		'Ear-right',
		'Ear-left',
		'Intramuscular',
		'Intratracheal',
		'Intravenous',
		'Nasogastric tube',
		'Nasal',
		'Eye-left',
		'Eye-both',
		'Eye-right',
		'By mouth',
		'Rectal',
		'Subcutaneous',
		'Sublingual',
		'Topically',
		'Swish & swallow',
		'Inhalation',
		'G-tube',
		'O2 - nasal cannula',
		'O2 - venti-mask',
		'O2 - partial rebreather mask',
		'O2 - non-breather mask',
	],
	frequency: [
		'Daily',
		'Every other day',
		'Weekly',
		'Every other week',
		'Monthly',
		'2 times daily',
		'3 times daily',
		'4 times daily',
		'As needed',
		'Bedtime',
		'2 times a week',
		'3 times a week',
		'4 times a week',
		'Every AM',
		'Every PM',
		'Hourly',
		'Every 2 hours',
		'Every 4 hours',
		'Every 6 hours',
		'Every 8 hours',
		'Every 12 hours',
		'Intermittent',
		'As directed',
		'Every 72 hours',
		'Daily PRN',
		'2 times daily PRN',
		'3 times daily PRN',
		'4 times daily PRN',
		'Daily x 3 days PRN',
		'Every 12 hours PRN',
		'Every 2 hours PRN',
		'Every 4 hours PRN',
		'Every 6 hours PRN',
		'Every 8 hours PRN',
		'PCA - continuous',
		'IV continuous',
		'O2 - continuous',
		'O2 - nightly',
		'O2 - PRN',
	],
	understandings: ['Purpose', 'Direction for Use', 'Side Effects / Interactions', 'None of These'],
};

export const wellsky = {
	routes: [
		'Oral',
		'Sublingual',
		'Buccal',
		'Rectal',
		'Topical',
		'Transdermal',
		'Ophthalmic',
		'Otic',
		'Nasal',
		'Inhalation',
		'Subcutaneous',
		'Intramuscular',
		'Intravenous',
		'Intrathecal',
		'Epidural',
		'Enteral',
		'Vaginal',
	],
	forms: [
		'Tablet',
		'Capsule',
		'Liquid',
		'Suspension',
		'Syrup',
		'Drop',
		'Cream',
		'Ointment',
		'Gel',
		'Patch',
		'Spray',
		'Lotion',
		'Foam',
		'Solution',
		'Device',
		'Ring',
		'Powder',
		'Granule',
		'Pellet',
		'Elixir',
		'Emulsion',
		'Paste',
		'Gum',
		'Lozenge',
		'Wafer',
		'Film',
		'Strip',
		'Liposome',
		'Instillation',
		'Aerosol',
	],
	classifications: [
		'ADHD/Anti-Narcolepsy/Anti-Obesity/Anorexiants',
		'Allergenic Extracts/Biologicals Misc',
		'Alternative Medicines',
		'Amebicides',
		'Aminoglycosides',
		'Analgesics - Anti-Inflammatory',
		'Analgesics - NonNarcotic',
		'Analgesics - Opioid',
		'Androgens-Anabolic',
		'Anorectal and Related Products',
		'Antacids',
		'Anthelmintics',
		'Anti-Infective Agents - Misc.',
		'Antianginal Agents',
		'Antianxiety Agents',
		'Antiarrhythmics',
		'Antiasthmatic and Bronchodilator Agents',
		'Anticoagulants',
		'Anticonvulsants',
		'Antidepressants',
		'Antidiabetics',
		'Antidiarrheal/Probiotic Agents',
		'Antidotes and Specific Antagonists',
		'Antiemetics',
		'Antifungals',
		'Antihistamines',
		'Antihyperlipidemics',
		'Antihypertensives',
		'Antimalarials',
		'Antimyasthenic/Cholinergic Agents',
		'Antimycobacterial Agents',
		'Antineoplastics and Adjunctive Therapies',
		'Antiparkinson and Related Therapy Agents',
		'Antipsychotics/Antimanic Agents',
		'Antiseptics & Disinfectants',
		'Antivirals',
		'Beta Blockers',
		'Calcium Channel Blockers',
		'Cardiotonics',
		'Cardiovascular Agents - Misc.',
		'Cephalosporins',
		'Chemicals',
		'Contraceptives',
		'Corticosteroids',
		'Cough/Cold/Allergy',
		'Dermatologicals',
		'Diagnostic Products',
		'Dietary Products/Dietary Management Products',
		'Digestive Aids',
		'Diuretics',
		'Endocrine and Metabolic Agents - Misc.',
		'Estrogens',
		'Fluoroquinolones',
		'Gastrointestinal Agents - Misc.',
		'General Anesthetics',
		'Genitourinary Agents - Miscellaneous',
		'Gout Agents',
		'Hematological Agents - Misc.',
		'Hematopoietic Agents',
		'Hemostatics',
		'Hypnotics/Sedatives/Sleep Disorder Agents',
		'Laxatives',
		'Local Anesthetics-Parenteral',
		'Macrolides',
		'Medical Devices and Supplies',
		'Migraine Products',
		'Minerals & Electrolytes',
		'Miscellaneous Therapeutic Classes',
		'Mouth/Throat/Dental Agents',
		'Multivitamins',
		'Musculoskeletal Therapy Agents',
		'Nasal Agents - Systemic and Topical',
		'Neuromuscular Agents',
		'Nutrients',
		'Ophthalmic Agents',
		'Otic Agents',
		'Oxytocics',
		'Passive Immunizing and Treatment Agents',
		'Penicillins',
		'Pharmaceutical Adjuvants',
		'Progestins',
		'Psychotherapeutic and Neurological Agents - Misc.',
		'Respiratory Agents - Misc.',
		'Sulfonamides',
		'Tetracyclines',
		'Thyroid Agents',
		'Toxoids',
		'Ulcer Drugs/Antispasmodics/Anticholinergics',
		'Urinary Antispasmodics',
		'Vaccines',
		'Vaginal and Related Products',
		'Vasopressors',
		'Vitamins',
	],
};

export enum FdbDrugType {
	DISPENSABLE_DRUG = 'dispensableDrug',
	CUSTOM_DRUG = 'customDrug',
}

export const customDrugs = [
	'OXYGEN',
	'O2 - OXYGEN',
	'O2 - OXYGEN - BIPAP',
	'O2 - OXYGEN - CPAP',
	'O2 - OXYGEN - HUMIDIFIED',
	'O2 - OXYGEN - PORTABLE',
	'O2 - OXYGEN - VENTILATOR',
].map((name) => ({
	id: name,
	name,
	route: 'Oxygen',
	availableDoseUnits: ['%', 'Liter', 'Per instructions'],
}));

export type CustomDrug = (typeof customDrugs)[0];

export function getListedMedicationIds(medications: MedicationSchema[]) {
	return compact(
		medications.filter((med) => med.fdb?.type === FdbDrugType.DISPENSABLE_DRUG).map((med) => med.fdb?.id),
	);
}
